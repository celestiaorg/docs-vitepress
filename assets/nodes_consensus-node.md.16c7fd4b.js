import{c as n}from"./chunks/constants.ad373f0f.js";import{o as t,c as p,k as s,t as e,l,a as o,Q as a}from"./chunks/framework.2b941d6c.js";const c="/docs-vitepress/img/nodes/full-consensus-node.png",r="/docs-vitepress/img/nodes/validator.png",i=a('<h1 id="setting-up-a-celestia-full-consensus-node" tabindex="-1">Setting up a Celestia full consensus node <a class="header-anchor" href="#setting-up-a-celestia-full-consensus-node" aria-label="Permalink to &quot;Setting up a Celestia full consensus node&quot;">​</a></h1><p>Full consensus nodes allow you to sync blockchain history in the Celestia consensus layer.</p><p><img src="'+c+`" alt="full consensus node"></p><h2 id="hardware-requirements" tabindex="-1">Hardware requirements <a class="header-anchor" href="#hardware-requirements" aria-label="Permalink to &quot;Hardware requirements&quot;">​</a></h2><p>The following hardware minimum requirements are recommended for running a full consensus node:</p><ul><li>Memory: <strong>8 GB RAM</strong></li><li>CPU: <strong>Quad-Core</strong></li><li>Disk: <strong>250 GB SSD Storage</strong></li><li>Bandwidth: <strong>1 Gbps for Download/1 Gbps for Upload</strong></li></ul><p>Running a full consensus node requires significant storage capacity to store the entire blockchain history. As of the latest recommendation, it is advisable to have at least 250 GB of SSD storage for a Celestia full consensus node if you are using pruning. If you are not using pruning, you are running an archive node, and it is recommended to have 500 GB of SSD storage. Please ensure that your storage meets this requirement to ensure smooth syncing and operation of the node.</p><h2 id="setting-up-a-full-consensus-node" tabindex="-1">Setting up a full consensus node <a class="header-anchor" href="#setting-up-a-full-consensus-node" aria-label="Permalink to &quot;Setting up a full consensus node&quot;">​</a></h2><p>The following tutorial is done on an Ubuntu Linux 20.04 (LTS) x64 instance machine.</p><h3 id="setup-the-dependencies" tabindex="-1">Setup the dependencies <a class="header-anchor" href="#setup-the-dependencies" aria-label="Permalink to &quot;Setup the dependencies&quot;">​</a></h3><p>Follow the instructions on <a href="./environment">installing dependencies</a>.</p><h3 id="install-celestia-app" tabindex="-1">Install celestia-app <a class="header-anchor" href="#install-celestia-app" aria-label="Permalink to &quot;Install celestia-app&quot;">​</a></h3><p>Follow the tutorial on <a href="./celestia-app">installing <code>celestia-app</code></a>.</p><h3 id="setup-the-p2p-networks" tabindex="-1">Setup the P2P networks <a class="header-anchor" href="#setup-the-p2p-networks" aria-label="Permalink to &quot;Setup the P2P networks&quot;">​</a></h3><p>Now we will setup the P2P Networks by cloning the networks repository:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> $HOME</span></span>
<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-rf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">networks</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/celestiaorg/networks.git</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> $HOME</span></span>
<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-rf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">networks</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/celestiaorg/networks.git</span></span></code></pre></div><p>To initialize the network pick a &quot;node-name&quot; that describes your node. Keep in mind that this might change if a new testnet is deployed.</p>`,17),_={class:"vp-code-group vp-adaptive-theme"},d=a('<div class="tabs"><input type="radio" name="group-xQsci" id="tab-y5CJ-0W" checked="checked"><label for="tab-y5CJ-0W">Mocha</label><input type="radio" name="group-xQsci" id="tab-zWyRlVS"><label for="tab-zWyRlVS">Arabica</label></div>',1),y={class:"blocks"},h={class:"language-bash vp-adaptive-theme active"},E=s("button",{title:"Copy Code",class:"copy"},null,-1),u=s("span",{class:"lang"},"bash",-1),F={class:"shiki github-dark vp-code-dark"},C={class:"line"},g=a('<span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;node-name&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--chain-id</span><span style="color:#E1E4E8;"> </span>',8),T={style:{color:"#9ECBFF"}},b={class:"shiki github-light vp-code-light"},A={class:"line"},m=a('<span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;node-name&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--chain-id</span><span style="color:#24292E;"> </span>',8),S={style:{color:"#032F62"}},v={class:"language-bash vp-adaptive-theme"},f=s("button",{title:"Copy Code",class:"copy"},null,-1),B=s("span",{class:"lang"},"bash",-1),k={class:"shiki github-dark vp-code-dark"},P={class:"line"},q=a('<span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;node-name&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--chain-id</span><span style="color:#E1E4E8;"> </span>',8),I={style:{color:"#9ECBFF"}},V={class:"shiki github-light vp-code-light"},D={class:"line"},R=a('<span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;node-name&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--chain-id</span><span style="color:#24292E;"> </span>',8),w={style:{color:"#032F62"}},N=s("p",null,[o("Copy the "),s("code",null,"genesis.json"),o(" file:")],-1),x={class:"vp-code-group vp-adaptive-theme"},O=a('<div class="tabs"><input type="radio" name="group-7AbQO" id="tab-9hcj9XD" checked="checked"><label for="tab-9hcj9XD">Mocha</label><input type="radio" name="group-7AbQO" id="tab-kr2AKuq"><label for="tab-kr2AKuq">Arabica</label></div>',1),$={class:"blocks"},M={class:"language-bash vp-adaptive-theme active"},L=s("button",{title:"Copy Code",class:"copy"},null,-1),H=s("span",{class:"lang"},"bash",-1),W={class:"shiki github-dark vp-code-dark"},Y={class:"line"},z=s("span",{style:{color:"#B392F0"}},"cp",-1),G=s("span",{style:{color:"#E1E4E8"}}," $HOME",-1),K={style:{color:"#9ECBFF"}},Q=s("span",{style:{color:"#E1E4E8"}}," ",-1),U=s("span",{style:{color:"#79B8FF"}},"\\",-1),j=s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    $HOME"),s("span",{style:{color:"#9ECBFF"}},"/.celestia-app/config")],-1),X={class:"shiki github-light vp-code-light"},J={class:"line"},Z=s("span",{style:{color:"#6F42C1"}},"cp",-1),ss=s("span",{style:{color:"#24292E"}}," $HOME",-1),as={style:{color:"#032F62"}},os=s("span",{style:{color:"#24292E"}}," ",-1),ns=s("span",{style:{color:"#005CC5"}},"\\",-1),es=s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    $HOME"),s("span",{style:{color:"#032F62"}},"/.celestia-app/config")],-1),ls={class:"language-bash vp-adaptive-theme"},ts=s("button",{title:"Copy Code",class:"copy"},null,-1),ps=s("span",{class:"lang"},"bash",-1),cs={class:"shiki github-dark vp-code-dark"},rs={class:"line"},is=s("span",{style:{color:"#B392F0"}},"cp",-1),_s=s("span",{style:{color:"#E1E4E8"}}," $HOME",-1),ds={style:{color:"#9ECBFF"}},ys=s("span",{style:{color:"#E1E4E8"}}," ",-1),hs=s("span",{style:{color:"#79B8FF"}},"\\",-1),Es=s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    $HOME"),s("span",{style:{color:"#9ECBFF"}},"/.celestia-app/config")],-1),us={class:"shiki github-light vp-code-light"},Fs={class:"line"},Cs=s("span",{style:{color:"#6F42C1"}},"cp",-1),gs=s("span",{style:{color:"#24292E"}}," $HOME",-1),Ts={style:{color:"#032F62"}},bs=s("span",{style:{color:"#24292E"}}," ",-1),As=s("span",{style:{color:"#005CC5"}},"\\",-1),ms=s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    $HOME"),s("span",{style:{color:"#032F62"}},"/.celestia-app/config")],-1),Ss=s("p",null,[o("Set seeds in the "),s("code",null,"$HOME/.celestia-app/config/config.toml"),o(" file:")],-1),vs={class:"vp-code-group vp-adaptive-theme"},fs=a('<div class="tabs"><input type="radio" name="group-sMqn7" id="tab-KT5hh3W" checked="checked"><label for="tab-KT5hh3W">Mocha</label><input type="radio" name="group-sMqn7" id="tab-0918Ni7"><label for="tab-0918Ni7">Arabica</label></div>',1),Bs={class:"blocks"},ks={class:"language-bash vp-adaptive-theme active"},Ps=s("button",{title:"Copy Code",class:"copy"},null,-1),qs=s("span",{class:"lang"},"bash",-1),Is={class:"shiki github-dark vp-code-dark"},Vs={class:"line"},Ds=a('<span style="color:#E1E4E8;">SEEDS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">curl</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-sL</span>',6),Rs={style:{color:"#9ECBFF"}},ws=a('<span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">head</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-1</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">tr</span><span style="color:#9ECBFF;"> &#39;\\n&#39; &#39;,&#39;)</span>',12),Ns=s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},"echo"),s("span",{style:{color:"#E1E4E8"}}," $SEEDS")],-1),xs=a('<span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i.bak</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;s/^seeds *=.*/seeds = </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#E1E4E8;">$SEEDS</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">/&quot;</span><span style="color:#E1E4E8;"> $HOME</span><span style="color:#9ECBFF;">/.celestia-app/config/config.toml</span></span>',1),Os={class:"shiki github-light vp-code-light"},$s={class:"line"},Ms=a('<span style="color:#24292E;">SEEDS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">curl</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-sL</span>',6),Ls={style:{color:"#032F62"}},Hs=a('<span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">head</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-c</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-1</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">tr</span><span style="color:#032F62;"> &#39;\\n&#39; &#39;,&#39;)</span>',12),Ws=s("span",{class:"line"},[s("span",{style:{color:"#005CC5"}},"echo"),s("span",{style:{color:"#24292E"}}," $SEEDS")],-1),Ys=a('<span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i.bak</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;s/^seeds *=.*/seeds = </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#24292E;">$SEEDS</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">/&quot;</span><span style="color:#24292E;"> $HOME</span><span style="color:#032F62;">/.celestia-app/config/config.toml</span></span>',1),zs=a(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># For Arabica, you can set seeds manually in the</span></span>
<span class="line"><span style="color:#6A737D;"># \`$HOME/.celestia-app/config/config.toml\` file:</span></span>
<span class="line"><span style="color:#6A737D;"># Comma separated list of seed nodes to connect to</span></span>
<span class="line"><span style="color:#B392F0;">seeds</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># For Arabica, you can set seeds manually in the</span></span>
<span class="line"><span style="color:#6A737D;"># \`$HOME/.celestia-app/config/config.toml\` file:</span></span>
<span class="line"><span style="color:#6A737D;"># Comma separated list of seed nodes to connect to</span></span>
<span class="line"><span style="color:#6F42C1;">seeds</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span></span></code></pre></div>`,1),Gs=s("p",null,[s("strong",null,"Optionally"),o(", you can set persistent peers in your "),s("code",null,"config.toml"),o(" file. You can get the persistent peers from the networks repository with the following commands:")],-1),Ks=s("p",null,"Setting persistent peers is advised only if you are running a sentry node.",-1),Qs={class:"vp-code-group vp-adaptive-theme"},Us=a('<div class="tabs"><input type="radio" name="group-m6xCC" id="tab-VGwgqSN" checked="checked"><label for="tab-VGwgqSN">Mocha</label><input type="radio" name="group-m6xCC" id="tab-QkoRNtC"><label for="tab-QkoRNtC">Arabica</label></div>',1),js={class:"blocks"},Xs={class:"language-bash vp-adaptive-theme active"},Js=s("button",{title:"Copy Code",class:"copy"},null,-1),Zs=s("span",{class:"lang"},"bash",-1),sa={class:"shiki github-dark vp-code-dark"},aa={class:"line"},oa=a('<span style="color:#E1E4E8;">PERSISTENT_PEERS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">curl</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-sL</span>',6),na={style:{color:"#9ECBFF"}},ea=a('<span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">head</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-1</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">tr</span><span style="color:#9ECBFF;"> &#39;\\n&#39; &#39;,&#39;)</span>',12),la=s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},"echo"),s("span",{style:{color:"#E1E4E8"}}," $PERSISTENT_PEERS")],-1),ta=a('<span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i.bak</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;s/^persistent_peers *=.*/persistent_peers = </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#E1E4E8;">$PERSISTENT_PEERS</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">/&quot;</span><span style="color:#E1E4E8;"> $HOME</span><span style="color:#9ECBFF;">/.celestia-app/config/config.toml</span></span>',1),pa={class:"shiki github-light vp-code-light"},ca={class:"line"},ra=a('<span style="color:#24292E;">PERSISTENT_PEERS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">curl</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-sL</span>',6),ia={style:{color:"#032F62"}},_a=a('<span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">head</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-c</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-1</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">tr</span><span style="color:#032F62;"> &#39;\\n&#39; &#39;,&#39;)</span>',12),da=s("span",{class:"line"},[s("span",{style:{color:"#005CC5"}},"echo"),s("span",{style:{color:"#24292E"}}," $PERSISTENT_PEERS")],-1),ya=a('<span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i.bak</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;s/^persistent_peers *=.*/persistent_peers = </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#24292E;">$PERSISTENT_PEERS</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">/&quot;</span><span style="color:#24292E;"> $HOME</span><span style="color:#032F62;">/.celestia-app/config/config.toml</span></span>',1),ha={class:"language-bash vp-adaptive-theme"},Ea=s("button",{title:"Copy Code",class:"copy"},null,-1),ua=s("span",{class:"lang"},"bash",-1),Fa={class:"shiki github-dark vp-code-dark"},Ca={class:"line"},ga=a('<span style="color:#E1E4E8;">PERSISTENT_PEERS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">curl</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-sL</span>',6),Ta={style:{color:"#9ECBFF"}},ba=a('<span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">head</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-c</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-1</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">tr</span><span style="color:#9ECBFF;"> &#39;\\n&#39; &#39;,&#39;)</span>',12),Aa=s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},"echo"),s("span",{style:{color:"#E1E4E8"}}," $PERSISTENT_PEERS")],-1),ma=a('<span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i.bak</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;s/^persistent_peers *=.*/persistent_peers = </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#E1E4E8;">$PERSISTENT_PEERS</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">/&quot;</span><span style="color:#E1E4E8;"> $HOME</span><span style="color:#9ECBFF;">/.celestia-app/config/config.toml</span></span>',1),Sa={class:"shiki github-light vp-code-light"},va={class:"line"},fa=a('<span style="color:#24292E;">PERSISTENT_PEERS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">curl</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-sL</span>',6),Ba={style:{color:"#032F62"}},ka=a('<span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">head</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-c</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-1</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">tr</span><span style="color:#032F62;"> &#39;\\n&#39; &#39;,&#39;)</span>',12),Pa=s("span",{class:"line"},[s("span",{style:{color:"#005CC5"}},"echo"),s("span",{style:{color:"#24292E"}}," $PERSISTENT_PEERS")],-1),qa=a('<span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i.bak</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;s/^persistent_peers *=.*/persistent_peers = </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#24292E;">$PERSISTENT_PEERS</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">/&quot;</span><span style="color:#24292E;"> $HOME</span><span style="color:#032F62;">/.celestia-app/config/config.toml</span></span>',1),Ia=a(`<div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Mac users&#39; built-in <code>head</code> command does not accept negative numbers for <code>-c</code> flag. Solution is to install <code>coreutils</code> package and use <code>ghead</code> command from it.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">brew</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">coreutils</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">brew</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">coreutils</span></span></code></pre></div><p>and optionally set alias from <code>head</code> to <code>ghead</code> in shell config (<code>~/.bashrc</code>, <code>~/.zshrc</code> etc):</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> head</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">ghead</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">alias</span><span style="color:#24292E;"> head</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">ghead</span></span></code></pre></div></div><h3 id="configure-pruning" tabindex="-1">Configure pruning <a class="header-anchor" href="#configure-pruning" aria-label="Permalink to &quot;Configure pruning&quot;">​</a></h3><p>For lower disk space usage we recommend setting up pruning using the configurations below in <code>$HOME/.celestia-app/config/app.toml</code>. You can change this to your own pruning configurations if you want:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">pruning = </span><span style="color:#9ECBFF;">&quot;custom&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">pruning-keep-recent = </span><span style="color:#9ECBFF;">&quot;100&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">pruning-interval = </span><span style="color:#9ECBFF;">&quot;10&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">pruning = </span><span style="color:#032F62;">&quot;custom&quot;</span></span>
<span class="line"><span style="color:#24292E;">pruning-keep-recent = </span><span style="color:#032F62;">&quot;100&quot;</span></span>
<span class="line"><span style="color:#24292E;">pruning-interval = </span><span style="color:#032F62;">&quot;10&quot;</span></span></code></pre></div><h3 id="syncing" tabindex="-1">Syncing <a class="header-anchor" href="#syncing" aria-label="Permalink to &quot;Syncing&quot;">​</a></h3><p>By default, a consensus node will sync using block sync; that is request, validate and execute every block up to the head of the blockchain. This is the most secure mechanism yet the slowest (taking up to days depending on the height of the blockchain).</p><p>There are two alternatives for quicker syncing.</p><h4 id="state-sync" tabindex="-1">State sync <a class="header-anchor" href="#state-sync" aria-label="Permalink to &quot;State sync&quot;">​</a></h4><p>State sync uses light client verification to verify state snapshots from peers and then apply them. State sync relies on weak subjectivity; a trusted header (specifically the hash and height) must be provided. This can be found by querying a trusted RPC endpoint (/block). RPC endpoints are also required for retrieving light blocks. These can be found in the docs here under the respective networks or from <a href="https://github.com/cosmos/chain-registry" target="_blank" rel="noreferrer">the chain-registry</a>.</p><p>In <code>$HOME/.celestia-app/config/config.toml</code>, set</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">rpc_servers = </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">trust_height = </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">trust_hash = </span><span style="color:#9ECBFF;">&quot;&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">rpc_servers = </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">trust_height = </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">trust_hash = </span><span style="color:#032F62;">&quot;&quot;</span></span></code></pre></div><p>to their respective fields. At least two different rpc endpoints should be provided. The more, the greater the chance of detecting any fraudulent behavior.</p><p>Once setup, you should be ready to start the node as normal. In the logs, you should see: <code>Discovering snapshots</code>. This may take a few minutes before snapshots are found depending on the network topology.</p><h4 id="quick-sync" tabindex="-1">Quick sync <a class="header-anchor" href="#quick-sync" aria-label="Permalink to &quot;Quick sync&quot;">​</a></h4><p>Quick sync effectively downloads the entire <code>data</code> directory from a third-party provider meaning the node has all the application and blockchain state as the node it was copied from.</p><p>Run the following command to quick-sync from a snapshot:</p>`,16),Va={class:"vp-code-group vp-adaptive-theme"},Da=a('<div class="tabs"><input type="radio" name="group-abNe0" id="tab--vyKT3S" checked="checked"><label for="tab--vyKT3S">Mocha</label><input type="radio" name="group-abNe0" id="tab-DrL8b8V"><label for="tab-DrL8b8V">Arabica</label></div>',1),Ra={class:"blocks"},wa={class:"language-bash vp-adaptive-theme active"},Na=s("button",{title:"Copy Code",class:"copy"},null,-1),xa=s("span",{class:"lang"},"bash",-1),Oa={class:"shiki github-dark vp-code-dark"},$a=s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},"cd"),s("span",{style:{color:"#E1E4E8"}}," $HOME")],-1),Ma=a('<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-rf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/data</span></span>',1),La=a('<span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/data</span></span>',1),Ha=a('<span class="line"><span style="color:#E1E4E8;">SNAP_NAME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">curl</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#9ECBFF;"> https://snaps.qubelabs.io/celestia/ </span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">\\</span></span>',1),Wa={class:"line"},Ya=s("span",{style:{color:"#9ECBFF"}},"    ",-1),za=s("span",{style:{color:"#B392F0"}},"egrep",-1),Ga=s("span",{style:{color:"#9ECBFF"}}," ",-1),Ka=s("span",{style:{color:"#79B8FF"}},"-o",-1),Qa={style:{color:"#9ECBFF"}},Ua=a('<span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">tr</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#9ECBFF;"> &quot;&gt;&quot;)</span>',6),ja=a('<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-O</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://snaps.qubelabs.io/celestia/</span><span style="color:#E1E4E8;">$&amp;#123;SNAP_NAME&amp;#125; | tar xf - \\</span></span>',1),Xa=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/data/</span></span>',1),Ja={class:"shiki github-light vp-code-light"},Za=s("span",{class:"line"},[s("span",{style:{color:"#005CC5"}},"cd"),s("span",{style:{color:"#24292E"}}," $HOME")],-1),so=a('<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-rf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/data</span></span>',1),ao=a('<span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/data</span></span>',1),oo=a('<span class="line"><span style="color:#24292E;">SNAP_NAME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">curl</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-s</span><span style="color:#032F62;"> https://snaps.qubelabs.io/celestia/ </span><span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">\\</span></span>',1),no={class:"line"},eo=s("span",{style:{color:"#032F62"}},"    ",-1),lo=s("span",{style:{color:"#6F42C1"}},"egrep",-1),to=s("span",{style:{color:"#032F62"}}," ",-1),po=s("span",{style:{color:"#005CC5"}},"-o",-1),co={style:{color:"#032F62"}},ro=a('<span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">tr</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-d</span><span style="color:#032F62;"> &quot;&gt;&quot;)</span>',6),io=a('<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-O</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://snaps.qubelabs.io/celestia/</span><span style="color:#24292E;">$&amp;#123;SNAP_NAME&amp;#125; | tar xf - \\</span></span>',1),_o=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/data/</span></span>',1),yo={class:"language-bash vp-adaptive-theme"},ho=s("button",{title:"Copy Code",class:"copy"},null,-1),Eo=s("span",{class:"lang"},"bash",-1),uo={class:"shiki github-dark vp-code-dark"},Fo=s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},"cd"),s("span",{style:{color:"#E1E4E8"}}," $HOME")],-1),Co=a('<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-rf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/data</span></span>',1),go=a('<span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/data</span></span>',1),To=a('<span class="line"><span style="color:#E1E4E8;">SNAP_NAME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">curl</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#9ECBFF;"> https://snaps.qubelabs.io/celestia/ </span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">\\</span></span>',1),bo={class:"line"},Ao=s("span",{style:{color:"#9ECBFF"}},"    ",-1),mo=s("span",{style:{color:"#B392F0"}},"egrep",-1),So=s("span",{style:{color:"#9ECBFF"}}," ",-1),vo=s("span",{style:{color:"#79B8FF"}},"-o",-1),fo={style:{color:"#9ECBFF"}},Bo=a('<span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">tr</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#9ECBFF;"> &quot;&gt;&quot;)</span>',6),ko=a('<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-O</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://snaps.qubelabs.io/celestia/</span><span style="color:#E1E4E8;">$&amp;#123;SNAP_NAME&amp;#125; | tar xf - \\</span></span>',1),Po=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/data/</span></span>',1),qo={class:"shiki github-light vp-code-light"},Io=s("span",{class:"line"},[s("span",{style:{color:"#005CC5"}},"cd"),s("span",{style:{color:"#24292E"}}," $HOME")],-1),Vo=a('<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-rf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/data</span></span>',1),Do=a('<span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/data</span></span>',1),Ro=a('<span class="line"><span style="color:#24292E;">SNAP_NAME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">curl</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-s</span><span style="color:#032F62;"> https://snaps.qubelabs.io/celestia/ </span><span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">\\</span></span>',1),wo={class:"line"},No=s("span",{style:{color:"#032F62"}},"    ",-1),xo=s("span",{style:{color:"#6F42C1"}},"egrep",-1),Oo=s("span",{style:{color:"#032F62"}}," ",-1),$o=s("span",{style:{color:"#005CC5"}},"-o",-1),Mo={style:{color:"#032F62"}},Lo=a('<span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">tr</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-d</span><span style="color:#032F62;"> &quot;&gt;&quot;)</span>',6),Ho=a('<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-O</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://snaps.qubelabs.io/celestia/</span><span style="color:#24292E;">$&amp;#123;SNAP_NAME&amp;#125; | tar xf - \\</span></span>',1),Wo=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/data/</span></span>',1),Yo=a('<h3 id="start-the-consensus-node" tabindex="-1">Start the consensus node <a class="header-anchor" href="#start-the-consensus-node" aria-label="Permalink to &quot;Start the consensus node&quot;">​</a></h3><p>In order to start your full consensus node, run the following:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre></div><p>Optional: If you would like celestia-app to run as a background process, you can follow the <a href="./systemd">SystemD tutorial</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Refer to <a href="./../nodes/celestia-node-troubleshooting#ports">the ports section of the celestia-node troubleshooting page</a> for information on which ports are required to be open on your machine.</p></div><h2 id="optional-setting-up-a-validator" tabindex="-1">Optional: Setting up a validator <a class="header-anchor" href="#optional-setting-up-a-validator" aria-label="Permalink to &quot;Optional: Setting up a validator&quot;">​</a></h2><h3 id="setting-up-a-celestia-validator-node" tabindex="-1">Setting up a Celestia validator node <a class="header-anchor" href="#setting-up-a-celestia-validator-node" aria-label="Permalink to &quot;Setting up a Celestia validator node&quot;">​</a></h3><p>Validator nodes allow you to participate in consensus in the Celestia network.</p><p><img src="'+r+`" alt="validator node"></p><h4 id="validator-hardware-requirements" tabindex="-1">Validator hardware requirements <a class="header-anchor" href="#validator-hardware-requirements" aria-label="Permalink to &quot;Validator hardware requirements&quot;">​</a></h4><p>The following hardware minimum requirements are recommended for running a validator node:</p><ul><li>Memory: <strong>8 GB RAM</strong></li><li>CPU: <strong>6 cores</strong></li><li>Disk: <strong>500 GB SSD Storage</strong></li><li>Bandwidth: <strong>1 Gbps for Download/1 Gbps for Upload</strong></li></ul><p>The following tutorial is done on an Ubuntu Linux 20.04 (LTS) x64 instance machine.</p><p>First, set up your full consensus node by following the instructions in <a href="#setting-up-a-full-consensus-node">the previous section</a>.</p><h4 id="wallet" tabindex="-1">Wallet <a class="header-anchor" href="#wallet" aria-label="Permalink to &quot;Wallet&quot;">​</a></h4><p>Follow <a href="./../developers/celestia-app-wallet">the tutorial on creating a wallet</a>.</p><h4 id="delegate-stake-to-a-validator" tabindex="-1">Delegate stake to a validator <a class="header-anchor" href="#delegate-stake-to-a-validator" aria-label="Permalink to &quot;Delegate stake to a validator&quot;">​</a></h4><p>Create an environment variable for the address:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">VALIDATOR_WALLET</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">validator-wallet-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">VALIDATOR_WALLET</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">validator-wallet-nam</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>If you want to delegate more stake to any validator, including your own you will need the <code>celesvaloper</code> address of the validator in question. You can run the command below to get the <code>celesvaloper</code> of your local validator wallet in case you want to delegate more to it:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">show</span><span style="color:#E1E4E8;"> $VALIDATOR_WALLET </span><span style="color:#79B8FF;">--bech</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">val</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">show</span><span style="color:#24292E;"> $VALIDATOR_WALLET </span><span style="color:#005CC5;">--bech</span><span style="color:#24292E;"> </span><span style="color:#032F62;">val</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span></span></code></pre></div><p>After entering the wallet passphrase you should see a similar output:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">Enter</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keyring</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">passphrase:</span></span>
<span class="line"><span style="color:#B392F0;">celesvaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u43cv6hd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Enter</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keyring</span><span style="color:#24292E;"> </span><span style="color:#032F62;">passphrase:</span></span>
<span class="line"><span style="color:#6F42C1;">celesvaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u43cv6hd</span></span></code></pre></div><p>To delegate tokens to the <code>celestiavaloper</code> validator, as an example you can run:</p>`,24),zo={class:"language-bash vp-adaptive-theme"},Go=s("button",{title:"Copy Code",class:"copy"},null,-1),Ko=s("span",{class:"lang"},"bash",-1),Qo={class:"shiki github-dark vp-code-dark"},Uo=a('<span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">staking</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">delegate</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\ </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">br</span><span style="color:#E1E4E8;"> /</span><span style="color:#F97583;">&gt;</span></span>',1),jo=a('<span class="line"><span style="color:#B392F0;">celestiavaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u4q4gx4p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1000000</span><span style="color:#9ECBFF;">utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\ </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">br</span><span style="color:#E1E4E8;"> /</span><span style="color:#F97583;">&gt;</span></span>',1),Xo={class:"line"},Jo=s("span",{style:{color:"#E1E4E8"}},"--from",-1),Zo=s("span",{style:{color:"#F97583"}},"=",-1),sn=s("span",{style:{color:"#E1E4E8"}},"$VALIDATOR_WALLET --chain-id",-1),an=s("span",{style:{color:"#F97583"}},"=",-1),on={style:{color:"#9ECBFF"}},nn=a('<span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">\\</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">br</span><span style="color:#E1E4E8;"> /</span><span style="color:#F97583;">&gt;</span>',7),en=a('<span class="line"><span style="color:#E1E4E8;">--fees</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">21000</span><span style="color:#9ECBFF;">utia</span></span>',1),ln={class:"shiki github-light vp-code-light"},tn=a('<span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">staking</span><span style="color:#24292E;"> </span><span style="color:#032F62;">delegate</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\ </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">br</span><span style="color:#24292E;"> /</span><span style="color:#D73A49;">&gt;</span></span>',1),pn=a('<span class="line"><span style="color:#6F42C1;">celestiavaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u4q4gx4p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000000</span><span style="color:#032F62;">utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\ </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">br</span><span style="color:#24292E;"> /</span><span style="color:#D73A49;">&gt;</span></span>',1),cn={class:"line"},rn=s("span",{style:{color:"#24292E"}},"--from",-1),_n=s("span",{style:{color:"#D73A49"}},"=",-1),dn=s("span",{style:{color:"#24292E"}},"$VALIDATOR_WALLET --chain-id",-1),yn=s("span",{style:{color:"#D73A49"}},"=",-1),hn={style:{color:"#032F62"}},En=a('<span style="color:#24292E;"> </span><span style="color:#6F42C1;">\\</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">br</span><span style="color:#24292E;"> /</span><span style="color:#D73A49;">&gt;</span>',7),un=a('<span class="line"><span style="color:#24292E;">--fees</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">21000</span><span style="color:#032F62;">utia</span></span>',1),Fn=a(`<p>If successful, you should see a similar output as:</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">code: 0</span></span>
<span class="line"><span style="color:#79B8FF;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">logs: []</span></span>
<span class="line"><span style="color:#79B8FF;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#79B8FF;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">tx: null</span></span>
<span class="line"><span style="color:#79B8FF;">txhash: &lt;tx-hash&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">code: 0</span></span>
<span class="line"><span style="color:#005CC5;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">logs: []</span></span>
<span class="line"><span style="color:#005CC5;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#005CC5;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">tx: null</span></span>
<span class="line"><span style="color:#005CC5;">txhash: &lt;tx-hash&gt;</span></span></code></pre></div><p>You can check if the TX hash went through using the block explorer by inputting the <code>txhash</code> ID that was returned.</p><h3 id="optional-deploy-the-celestia-node" tabindex="-1">Optional: Deploy the celestia-node <a class="header-anchor" href="#optional-deploy-the-celestia-node" aria-label="Permalink to &quot;Optional: Deploy the celestia-node&quot;">​</a></h3><p>Running a bridge node is critical to the Celestia network as it enables the data availability and consensus nodes to communicate with one another. It is recommended to support the data availability network, but is not required for <code>celestia-app</code>.</p><p>If you are not running a bridge node, you can skip to <a href="#run-the-validator-node">run a validator node</a>.</p><p>This section describes part 2 of Celestia validator node setup: running a Celestia bridge node daemon.</p><h4 id="install-celestia-node" tabindex="-1">Install celestia-node <a class="header-anchor" href="#install-celestia-node" aria-label="Permalink to &quot;Install celestia-node&quot;">​</a></h4><p>You can <a href="./celestia-node">follow the tutorial for installing <code>celestia-node</code></a></p><h4 id="initialize-the-bridge-node" tabindex="-1">Initialize the bridge node <a class="header-anchor" href="#initialize-the-bridge-node" aria-label="Permalink to &quot;Initialize the bridge node&quot;">​</a></h4><p>Run the following:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bridge</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.ip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ip-addres</span><span style="color:#E1E4E8;">s</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bridge</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.ip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">ip-addres</span><span style="color:#24292E;">s</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Refer to <a href="./../../nodes/celestia-node-troubleshooting/#ports">the ports section of the celestia-node troubleshooting page</a> for information on which ports are required to be open on your machine.</p></div><p>If you need a list of RPC endpoints to connect to, you can find the <a href="./mocha-testnet#rpc-endpoints">list on the Mocha testnet page</a> or <a href="./arabica-devnet#rpc-endpoints">list on the Arabica devnet page</a>.</p><h4 id="run-the-bridge-node" tabindex="-1">Run the bridge node <a class="header-anchor" href="#run-the-bridge-node" aria-label="Permalink to &quot;Run the bridge node&quot;">​</a></h4><p>Run the following:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bridge</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bridge</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre></div><h4 id="optional-start-the-bridge-node-with-systemd" tabindex="-1">Optional: start the bridge node with SystemD <a class="header-anchor" href="#optional-start-the-bridge-node-with-systemd" aria-label="Permalink to &quot;Optional: start the bridge node with SystemD&quot;">​</a></h4><p>Follow <a href="./../systemd">the tutorial on setting up the bridge node as a background process with SystemD</a>.</p><p>You have successfully set up a bridge node that is syncing with the network.</p><h4 id="setup-blobstream-keys" tabindex="-1">Setup Blobstream keys <a class="header-anchor" href="#setup-blobstream-keys" aria-label="Permalink to &quot;Setup Blobstream keys&quot;">​</a></h4><p>First, prepare an EVM address with a private key that you have access to. We will use it to register your validator&#39;s EVM address <a href="#register-your-validators-evm-address">later in this page</a>.</p><h3 id="run-the-validator-node" tabindex="-1">Run the validator node <a class="header-anchor" href="#run-the-validator-node" aria-label="Permalink to &quot;Run the validator node&quot;">​</a></h3><p>In order to start your validator node, run the following:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre></div><p>After completing all the necessary steps, you are now ready to run a validator! In order to create your validator onchain, follow the instructions below. Keep in mind that these steps are necessary ONLY if you want to participate in the consensus.</p><p>Pick a <code>moniker</code> name of your choice! This is the validator name that will show up on public dashboards and explorers. <code>VALIDATOR_WALLET</code> must be the same you defined previously. Parameter <code>--min-self-delegation=1000000</code> defines the amount of tokens that are self delegated from your validator wallet.</p><p>Now, connect to the network of your choice.</p><p>You have the following option of connecting to list of networks shown below:</p><p>Continuing the validator tutorial, here are the steps to connect your validator to Mocha:</p>`,30),Cn={class:"language-bash vp-adaptive-theme"},gn=s("button",{title:"Copy Code",class:"copy"},null,-1),Tn=s("span",{class:"lang"},"bash",-1),bn={class:"shiki github-dark vp-code-dark"},An=s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"MONIKER"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#9ECBFF"}},'"your_moniker"')],-1),mn=s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"VALIDATOR_WALLET"),s("span",{style:{color:"#F97583"}},"="),s("span",{style:{color:"#9ECBFF"}},'"validator"')],-1),Sn=s("span",{class:"line"},null,-1),vn=a('<span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">staking</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create-validator</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),fn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--amount=1000000utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),Bn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--pubkey=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">celestia-appd</span><span style="color:#9ECBFF;"> tendermint show-validator)</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),kn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--moniker=</span><span style="color:#E1E4E8;">$MONIKER</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),Pn={class:"line"},qn=s("span",{style:{color:"#E1E4E8"}},"    ",-1),In={style:{color:"#79B8FF"}},Vn=s("span",{style:{color:"#E1E4E8"}}," ",-1),Dn=s("span",{style:{color:"#79B8FF"}},"\\",-1),Rn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-rate=0.1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),wn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-max-rate=0.2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),Nn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-max-change-rate=0.01</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),xn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--min-self-delegation=1000000</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),On=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--from=</span><span style="color:#E1E4E8;">$VALIDATOR_WALLET</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),$n=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--keyring-backend=test</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),Mn=a('<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--fees=21000utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>',1),Ln=s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    "),s("span",{style:{color:"#79B8FF"}},"--gas=220000")],-1),Hn={class:"shiki github-light vp-code-light"},Wn=s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"MONIKER"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#032F62"}},'"your_moniker"')],-1),Yn=s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"VALIDATOR_WALLET"),s("span",{style:{color:"#D73A49"}},"="),s("span",{style:{color:"#032F62"}},'"validator"')],-1),zn=s("span",{class:"line"},null,-1),Gn=a('<span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">staking</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create-validator</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),Kn=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--amount=1000000utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),Qn=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--pubkey=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">celestia-appd</span><span style="color:#032F62;"> tendermint show-validator)</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),Un=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--moniker=</span><span style="color:#24292E;">$MONIKER</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),jn={class:"line"},Xn=s("span",{style:{color:"#24292E"}},"    ",-1),Jn={style:{color:"#005CC5"}},Zn=s("span",{style:{color:"#24292E"}}," ",-1),se=s("span",{style:{color:"#005CC5"}},"\\",-1),ae=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-rate=0.1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),oe=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-max-rate=0.2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),ne=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-max-change-rate=0.01</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),ee=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--min-self-delegation=1000000</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),le=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--from=</span><span style="color:#24292E;">$VALIDATOR_WALLET</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),te=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--keyring-backend=test</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),pe=a('<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--fees=21000utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>',1),ce=s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    "),s("span",{style:{color:"#005CC5"}},"--gas=220000")],-1),re=a(`<p>You will be prompted to confirm the transaction:</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">confirm transaction before signing and broadcasting [y/N]: y</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">confirm transaction before signing and broadcasting [y/N]: y</span></span></code></pre></div><p>Inputting <code>y</code> should provide an output similar to:</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">code: 0</span></span>
<span class="line"><span style="color:#79B8FF;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">logs: []</span></span>
<span class="line"><span style="color:#79B8FF;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#79B8FF;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">tx: null</span></span>
<span class="line"><span style="color:#79B8FF;">txhash: &lt;tx-hash&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">code: 0</span></span>
<span class="line"><span style="color:#005CC5;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">logs: []</span></span>
<span class="line"><span style="color:#005CC5;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#005CC5;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">tx: null</span></span>
<span class="line"><span style="color:#005CC5;">txhash: &lt;tx-hash&gt;</span></span></code></pre></div><h3 id="register-your-validators-evm-address" tabindex="-1">Register your validator&#39;s EVM address <a class="header-anchor" href="#register-your-validators-evm-address" aria-label="Permalink to &quot;Register your validator&#39;s EVM address {#register-your-validators-evm-address}&quot;">​</a></h3><p>This section will cover how to register your validator&#39;s EVM address. This is required to run an orchestrator.</p><p>To register your EVM address, run the following. Be sure to replace <code>YOUR_EVM_ADDRESS</code> with your EVM address:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">VALIDATOR_ADDRESS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">celestia-appd</span><span style="color:#9ECBFF;"> keys show </span><span style="color:#E1E4E8;">$VALIDATOR_WALLET</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">--bech</span><span style="color:#9ECBFF;"> val </span><span style="color:#79B8FF;">-a</span><span style="color:#9ECBFF;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">EVM_ADDRESS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;YOUR_EVM_ADDRESS&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blobstream</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">register</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    $VALIDATOR_ADDRESS </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    $EVM_ADDRESS </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--from</span><span style="color:#E1E4E8;"> $VALIDATOR_WALLET </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--fees</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">30000</span><span style="color:#9ECBFF;">utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">-b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">block</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">-y</span><span style="color:#E1E4E8;"> &amp;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">VALIDATOR_ADDRESS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">celestia-appd</span><span style="color:#032F62;"> keys show </span><span style="color:#24292E;">$VALIDATOR_WALLET</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">--bech</span><span style="color:#032F62;"> val </span><span style="color:#005CC5;">-a</span><span style="color:#032F62;">)</span></span>
<span class="line"><span style="color:#24292E;">EVM_ADDRESS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;YOUR_EVM_ADDRESS&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blobstream</span><span style="color:#24292E;"> </span><span style="color:#032F62;">register</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    $VALIDATOR_ADDRESS </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    $EVM_ADDRESS </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--from</span><span style="color:#24292E;"> $VALIDATOR_WALLET </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--fees</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">30000</span><span style="color:#032F62;">utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">-b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">block</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">-y</span><span style="color:#24292E;"> &amp;</span></span></code></pre></div><p>You should now be able to see your validator from <a href="./mocha-testnet#explorers">a block explorer</a></p><h3 id="run-a-blobstream-orchestrator" tabindex="-1">Run a Blobstream Orchestrator <a class="header-anchor" href="#run-a-blobstream-orchestrator" aria-label="Permalink to &quot;Run a Blobstream Orchestrator&quot;">​</a></h3><p>Now that Blobstream will be enabled for Mocha, all validators will need to run a Blobstream orchestrator to be able to sign attestations. To run it, please <a href="https://docs.celestia.org/nodes/blobstream-orchestrator/#how-to-run" target="_blank" rel="noreferrer">refer to the documentation</a>.</p><h3 id="submit-your-validator-information" tabindex="-1">Submit your validator information <a class="header-anchor" href="#submit-your-validator-information" aria-label="Permalink to &quot;Submit your validator information&quot;">​</a></h3><p>After starting your node, please submit your node as a seed and peer to the <a href="https://github.com/celestiaorg/networks" target="_blank" rel="noreferrer">networks repository</a>.</p><h2 id="extra-resources-for-consensus-nodes" tabindex="-1">Extra resources for consensus nodes <a class="header-anchor" href="#extra-resources-for-consensus-nodes" aria-label="Permalink to &quot;Extra resources for consensus nodes&quot;">​</a></h2><h3 id="optional-reset-network" tabindex="-1">Optional: Reset network <a class="header-anchor" href="#optional-reset-network" aria-label="Permalink to &quot;Optional: Reset network&quot;">​</a></h3><p>This will delete all data folders so we can start fresh:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tendermint</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unsafe-reset-all</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--home</span><span style="color:#E1E4E8;"> $HOME</span><span style="color:#9ECBFF;">/.celestia-app</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tendermint</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unsafe-reset-all</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--home</span><span style="color:#24292E;"> $HOME</span><span style="color:#032F62;">/.celestia-app</span></span></code></pre></div><h3 id="optional-configuring-an-rpc-endpoint" tabindex="-1">Optional: Configuring an RPC endpoint <a class="header-anchor" href="#optional-configuring-an-rpc-endpoint" aria-label="Permalink to &quot;Optional: Configuring an RPC endpoint&quot;">​</a></h3><p>You can configure your full consensus node to be a public RPC endpoint. This allows it to accept connections from data availability nodes and serve requests for the data availability API.</p><h4 id="expose-rpc" tabindex="-1">Expose RPC <a class="header-anchor" href="#expose-rpc" aria-label="Permalink to &quot;Expose RPC&quot;">​</a></h4><p>By default, the RPC service listens on <code>localhost</code> which means it can&#39;t be accessed from other machines. To make the RPC service available publicly, you need to bind it to a public IP or <code>0.0.0.0</code> (which means listening on all available network interfaces).</p><p>You can do this by editing the config.toml file:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;s#&quot;tcp://127.0.0.1:26657&quot;#&quot;tcp://0.0.0.0:26657&quot;#g&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/config/config.toml</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;s#&quot;tcp://127.0.0.1:26657&quot;#&quot;tcp://0.0.0.0:26657&quot;#g&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/config/config.toml</span></span></code></pre></div><p>This command replaces the <code>localhost</code> IP address with <code>0.0.0.0</code>, making the RPC service listen on all available network interfaces.</p><h4 id="note-on-external-address" tabindex="-1">Note on <code>external-address</code> <a class="header-anchor" href="#note-on-external-address" aria-label="Permalink to &quot;Note on \`external-address\`&quot;">​</a></h4><p>The <code>external-address</code> field in the configuration is used when your node is behind a NAT and you need to advertise a different address for peers to dial. Populating this field is not necessary for making the RPC endpoint public.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">EXTERNAL-ADDRESS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">wget</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-qO-</span><span style="color:#9ECBFF;"> eth0.me)</span></span>
<span class="line"><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i.bak</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;s/^external-address = &quot;&quot;/external-address = &quot;</span><span style="color:#E1E4E8;">$EXTERNAL</span><span style="color:#9ECBFF;">-ADDRESS:26656&quot;/&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    $HOME</span><span style="color:#9ECBFF;">/.celestia-app/config/config.toml</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">EXTERNAL-ADDRESS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">wget</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-qO-</span><span style="color:#032F62;"> eth0.me)</span></span>
<span class="line"><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i.bak</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;s/^external-address = &quot;&quot;/external-address = &quot;</span><span style="color:#24292E;">$EXTERNAL</span><span style="color:#032F62;">-ADDRESS:26656&quot;/&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    $HOME</span><span style="color:#032F62;">/.celestia-app/config/config.toml</span></span></code></pre></div><h4 id="restart-the-node" tabindex="-1">Restart the node <a class="header-anchor" href="#restart-the-node" aria-label="Permalink to &quot;Restart the node&quot;">​</a></h4><p>After making these changes, restart <code>celestia-appd</code> to load the new configurations.</p><h3 id="optional-transaction-indexer-configuration-options" tabindex="-1">Optional: Transaction indexer configuration options <a class="header-anchor" href="#optional-transaction-indexer-configuration-options" aria-label="Permalink to &quot;Optional: Transaction indexer configuration options&quot;">​</a></h3><p>This section guides you on how to configure your <code>config.toml</code> file in <code>celestia-app</code> to select which transactions to index. Depending on the application&#39;s configuration, a node operator may decide which transactions to index.</p><p>The available options are:</p><ol><li><code>null</code>: This option disables indexing. If you don&#39;t need to query transactions, you can choose this option to save space.</li><li><code>kv</code> (default): This is the simplest indexer, backed by key-value storage (defaults to levelDB; see DBBackend). When <code>kv</code> is chosen, <code>tx.height</code> and <code>tx.hash</code> will always be indexed. This option is suitable for basic queries on transactions.</li><li><code>psql</code>: This indexer is backed by PostgreSQL. When psql is chosen, <code>tx.height</code> and <code>tx.hash</code> will always be indexed. This option is suitable for complex queries on transactions.</li></ol><p>An example to set the value to <code>kv</code> in <code>config.toml</code> is:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">indexer = </span><span style="color:#9ECBFF;">&quot;kv&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">indexer = </span><span style="color:#032F62;">&quot;kv&quot;</span></span></code></pre></div><p>Remember to restart <code>celestia-appd</code> after making changes to the configuration to load the new settings.</p><h3 id="optional-discard-abci-responses-configuration" tabindex="-1">Optional: Discard ABCI responses configuration <a class="header-anchor" href="#optional-discard-abci-responses-configuration" aria-label="Permalink to &quot;Optional: Discard ABCI responses configuration&quot;">​</a></h3><p>This section will guide you on how to configure your <code>config.toml</code> file in <code>celestia-app</code> to manage the storage of ABCI responses. ABCI responses are the results of executing transactions and are used for <code>/block_results</code> RPC queries and to reindex events in the command-line tool.</p><p>The <code>discard_abci_responses</code> option allows you to control whether these responses are persisted in the state store:</p><ul><li><code>false</code> (default): ABCI responses are stored in the state store. This ensures that ABCI responses are available for <code>/block_results</code> RPC queries and for reindexing events. However, it can consume a significant amount of disk space.</li><li><code>true</code>: ABCI responses are not stored in the state store. This can save a considerable amount of disk space, but <code>/block_results</code> RPC queries and event reindexing will not be available.</li></ul><p>An example to set the value to false in <code>config.toml</code> is:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">discard_abci_responses = </span><span style="color:#79B8FF;">false</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">discard_abci_responses = </span><span style="color:#005CC5;">false</span></span></code></pre></div><p>Remember to restart <code>celestia-appd</code> after making changes to the configuration to load the new settings.</p>`,43),ue=JSON.parse('{"title":"Setting up a Celestia full consensus node","description":"Learn how to set up a Celestia consensus node.","frontmatter":{"description":"Learn how to set up a Celestia consensus node.","head":[["meta",{"name":"og:title","content":"Setting up a Celestia full consensus node | Celestia Docs"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"nodes/consensus-node.md","filePath":"nodes/consensus-node.md","lastUpdated":1697843954000}'),ie={name:"nodes/consensus-node.md"},Fe=Object.assign(ie,{setup(_e){return(de,ye)=>(t(),p("div",null,[i,s("div",_,[d,s("div",y,[s("div",h,[E,u,s("pre",F,[s("code",null,[s("span",C,[g,s("span",T,e(l(n).mochaChainId),1)])])]),s("pre",b,[s("code",null,[s("span",A,[m,s("span",S,e(l(n).mochaChainId),1)])])])]),s("div",v,[f,B,s("pre",k,[s("code",null,[s("span",P,[q,s("span",I,e(l(n).arabicaChainId),1)])])]),s("pre",V,[s("code",null,[s("span",D,[R,s("span",w,e(l(n).arabicaChainId),1)])])])])])]),N,s("div",x,[O,s("div",$,[s("div",M,[L,H,s("pre",W,[s("code",null,[s("span",Y,[z,G,s("span",K,"/networks/"+e(l(n).mochaChainId)+"/genesis.json",1),Q,U]),o(`
`),j])]),s("pre",X,[s("code",null,[s("span",J,[Z,ss,s("span",as,"/networks/"+e(l(n).mochaChainId)+"/genesis.json",1),os,ns]),o(`
`),es])])]),s("div",ls,[ts,ps,s("pre",cs,[s("code",null,[s("span",rs,[is,_s,s("span",ds,"/networks/"+e(l(n).arabicaChainId)+"/genesis.json",1),ys,hs]),o(`
`),Es])]),s("pre",us,[s("code",null,[s("span",Fs,[Cs,gs,s("span",Ts,"/networks/"+e(l(n).arabicaChainId)+"/genesis.json",1),bs,As]),o(`
`),ms])])])])]),Ss,s("div",vs,[fs,s("div",Bs,[s("div",ks,[Ps,qs,s("pre",Is,[s("code",null,[s("span",Vs,[Ds,s("span",Rs," https://raw.githubusercontent.com/celestiaorg/networks/master/"+e(l(n).mochaChainId)+"/seeds.txt ",1),ws]),o(`
`),Ns,o(`
`),xs])]),s("pre",Os,[s("code",null,[s("span",$s,[Ms,s("span",Ls," https://raw.githubusercontent.com/celestiaorg/networks/master/"+e(l(n).mochaChainId)+"/seeds.txt ",1),Hs]),o(`
`),Ws,o(`
`),Ys])])]),zs])]),Gs,Ks,s("div",Qs,[Us,s("div",js,[s("div",Xs,[Js,Zs,s("pre",sa,[s("code",null,[s("span",aa,[oa,s("span",na," https://raw.githubusercontent.com/celestiaorg/networks/master/"+e(l(n).mochaChainId)+"/peers.txt ",1),ea]),o(`
`),la,o(`
`),ta])]),s("pre",pa,[s("code",null,[s("span",ca,[ra,s("span",ia," https://raw.githubusercontent.com/celestiaorg/networks/master/"+e(l(n).mochaChainId)+"/peers.txt ",1),_a]),o(`
`),da,o(`
`),ya])])]),s("div",ha,[Ea,ua,s("pre",Fa,[s("code",null,[s("span",Ca,[ga,s("span",Ta," https://raw.githubusercontent.com/celestiaorg/networks/master/"+e(l(n).arabicaChainId)+"/peers.txt ",1),ba]),o(`
`),Aa,o(`
`),ma])]),s("pre",Sa,[s("code",null,[s("span",va,[fa,s("span",Ba," https://raw.githubusercontent.com/celestiaorg/networks/master/"+e(l(n).arabicaChainId)+"/peers.txt ",1),ka]),o(`
`),Pa,o(`
`),qa])])])])]),Ia,s("div",Va,[Da,s("div",Ra,[s("div",wa,[Na,xa,s("pre",Oa,[s("code",null,[$a,o(`
`),Ma,o(`
`),La,o(`
`),Ha,o(`
`),s("span",Wa,[Ya,za,Ga,Ka,s("span",Qa,' ">'+e(l(n).mochaChainId)+'.*tar" ',1),Ua]),o(`
`),ja,o(`
`),Xa])]),s("pre",Ja,[s("code",null,[Za,o(`
`),so,o(`
`),ao,o(`
`),oo,o(`
`),s("span",no,[eo,lo,to,po,s("span",co,' ">'+e(l(n).mochaChainId)+'.*tar" ',1),ro]),o(`
`),io,o(`
`),_o])])]),s("div",yo,[ho,Eo,s("pre",uo,[s("code",null,[Fo,o(`
`),Co,o(`
`),go,o(`
`),To,o(`
`),s("span",bo,[Ao,mo,So,vo,s("span",fo,' ">'+e(l(n).arabicaChainId)+'.*tar" ',1),Bo]),o(`
`),ko,o(`
`),Po])]),s("pre",qo,[s("code",null,[Io,o(`
`),Vo,o(`
`),Do,o(`
`),Ro,o(`
`),s("span",wo,[No,xo,Oo,$o,s("span",Mo,' ">'+e(l(n).arabicaChainId)+'.*tar" ',1),Lo]),o(`
`),Ho,o(`
`),Wo])])])])]),Yo,s("div",zo,[Go,Ko,s("pre",Qo,[s("code",null,[Uo,o(`
`),jo,o(`
`),s("span",Xo,[Jo,Zo,sn,an,s("span",on,e(l(n).mochaChainId),1),nn]),o(`
`),en])]),s("pre",ln,[s("code",null,[tn,o(`
`),pn,o(`
`),s("span",cn,[rn,_n,dn,yn,s("span",hn,e(l(n).mochaChainId),1),En]),o(`
`),un])])]),Fn,s("div",Cn,[gn,Tn,s("pre",bn,[s("code",null,[An,o(`
`),mn,o(`
`),Sn,o(`
`),vn,o(`
`),fn,o(`
`),Bn,o(`
`),kn,o(`
`),s("span",Pn,[qn,s("span",In,"--chain-id="+e(l(n).mochaChainId),1),Vn,Dn]),o(`
`),Rn,o(`
`),wn,o(`
`),Nn,o(`
`),xn,o(`
`),On,o(`
`),$n,o(`
`),Mn,o(`
`),Ln])]),s("pre",Hn,[s("code",null,[Wn,o(`
`),Yn,o(`
`),zn,o(`
`),Gn,o(`
`),Kn,o(`
`),Qn,o(`
`),Un,o(`
`),s("span",jn,[Xn,s("span",Jn,"--chain-id="+e(l(n).mochaChainId),1),Zn,se]),o(`
`),ae,o(`
`),oe,o(`
`),ne,o(`
`),ee,o(`
`),le,o(`
`),te,o(`
`),pe,o(`
`),ce])])]),re]))}});export{ue as __pageData,Fe as default};
